"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/Authentication/register/page",{

/***/ "(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx":
/*!********************************************************!*\
  !*** ./src/app/Authentication/context/AuthContext.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _services_apiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/apiService */ \"(app-pages-browser)/./src/services/apiService.ts\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if the user is already authenticated on mount\n        const checkAuth = async ()=>{\n            const token = localStorage.getItem(\"authToken\");\n            if (token) {\n                try {\n                    const verifyResponse = await fetch(_services_apiService__WEBPACK_IMPORTED_MODULE_3__.ApiService.getApiUrl(\"user/auth/token/verify/\"), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            token\n                        })\n                    });\n                    if (!verifyResponse.ok) {\n                        console.log(\"Token invalid, status:\", verifyResponse.status);\n                        // Try to use refresh token if available\n                        const refreshToken = localStorage.getItem(\"refreshToken\");\n                        if (refreshToken) {\n                            try {\n                                const refreshResponse = await fetch(_services_apiService__WEBPACK_IMPORTED_MODULE_3__.ApiService.getApiUrl(\"user/auth/token/refresh/\"), {\n                                    method: \"POST\",\n                                    headers: {\n                                        \"Content-Type\": \"application/json\"\n                                    },\n                                    body: JSON.stringify({\n                                        refresh: refreshToken\n                                    })\n                                });\n                                if (refreshResponse.ok) {\n                                    const refreshData = await refreshResponse.json();\n                                    localStorage.setItem(\"authToken\", refreshData.access);\n                                    // Continue with the new token\n                                    fetchUserData(refreshData.access);\n                                    return;\n                                }\n                            } catch (refreshError) {\n                                console.error(\"Token refresh failed:\", refreshError);\n                            }\n                        }\n                        // If we get here, both token verify and refresh failed\n                        localStorage.removeItem(\"authToken\");\n                        localStorage.removeItem(\"refreshToken\");\n                        setUser(null);\n                        setIsAuthenticated(false);\n                        setLoading(false);\n                        return;\n                    }\n                    // Token is valid, get user data\n                    await fetchUserData(token);\n                } catch (error) {\n                    console.error(\"Authentication check failed:\", error);\n                    localStorage.removeItem(\"authToken\");\n                    localStorage.removeItem(\"refreshToken\");\n                    setUser(null);\n                    setIsAuthenticated(false);\n                    setLoading(false);\n                }\n            } else {\n                setLoading(false);\n            }\n        };\n        const fetchUserData = async (token)=>{\n            try {\n                const response = await fetch(_services_apiService__WEBPACK_IMPORTED_MODULE_3__.ApiService.getApiUrl(\"user/auth/me/\"), {\n                    headers: {\n                        \"Authorization\": \"Bearer \".concat(token),\n                        \"Content-Type\": \"application/json\"\n                    },\n                    credentials: \"include\"\n                });\n                if (response.ok) {\n                    const userData = await response.json();\n                    setUser({\n                        id: userData.id,\n                        name: userData.full_name || userData.name,\n                        email: userData.email\n                    });\n                    setIsAuthenticated(true);\n                    console.log(\"User authenticated successfully on page refresh\");\n                } else {\n                    console.log(\"Failed to get user data, status:\", response.status);\n                    // Token might be valid but user data fetch failed\n                    localStorage.removeItem(\"authToken\");\n                    setUser(null);\n                    setIsAuthenticated(false);\n                }\n            } catch (error) {\n                console.error(\"Authentication check failed:\", error);\n                localStorage.removeItem(\"authToken\");\n                setUser(null);\n                setIsAuthenticated(false);\n            }\n            setLoading(false);\n        };\n        checkAuth();\n    }, []);\n    const loginWithGoogle = async ()=>{\n        // Open Google OAuth popup\n        const width = 500;\n        const height = 600;\n        const left = window.screenX + (window.outerWidth - width) / 2;\n        const top = window.screenY + (window.outerHeight - height) / 2;\n        // Construct Google OAuth URL\n        const googleOAuthUrl = \"https://accounts.google.com/o/oauth2/v2/auth?\" + \"client_id=604558986475-755fbv5bvlnamnhdm3fts9ck54ujbkv4.apps.googleusercontent.com\" + \"&redirect_uri=\".concat(encodeURIComponent(\"http://localhost:3001/Authentication/google-callback\")) + \"&response_type=id_token\" + \"&scope=\".concat(encodeURIComponent(\"openid email profile\")) + \"&nonce=\".concat(Math.random().toString(36).substring(2, 15)) + \"&prompt=select_account\"; // Open the Google OAuth popup\n        const popup = window.open(googleOAuthUrl, \"Google Login\", \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top, \",toolbar=no,menubar=no,location=no,status=no\"));\n        // Create a message listener to handle the callback\n        window.addEventListener(\"message\", async (event)=>{\n            // Only accept messages from our own domain\n            if (event.origin !== window.location.origin) return;\n            if (event.data.type === \"GOOGLE_AUTH_SUCCESS\") {\n                if (popup) popup.close();\n                try {\n                    await handleGoogleCallback(event.data.token, event.data.user);\n                    router.push(\"/profile\");\n                } catch (error) {\n                    console.error(\"Google auth callback error:\", error);\n                }\n            }\n        });\n    };\n    const handleGoogleCallback = async (token, userData)=>{\n        try {\n            const response = await fetch(_services_apiService__WEBPACK_IMPORTED_MODULE_3__.ApiService.getApiUrl(\"user/auth/google/token/\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    id_token: token,\n                    email: userData.email,\n                    full_name: userData.name\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Google authentication failed\");\n            }\n            const data = await response.json();\n            console.log(\"Google auth response:\", data);\n            // Store tokens based on what's returned\n            if (data.access) {\n                // JWT format\n                localStorage.setItem(\"authToken\", data.access);\n                if (data.refresh) {\n                    localStorage.setItem(\"refreshToken\", data.refresh);\n                }\n            } else if (data.token) {\n                // Legacy token format\n                localStorage.setItem(\"authToken\", data.token);\n            }\n            setUser({\n                id: data.user.id,\n                name: data.user.full_name,\n                email: data.user.email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Google auth error:\", error);\n            throw error;\n        }\n    };\n    const login = async (email, password)=>{\n        setLoading(true);\n        try {\n            var _data_user, _data_user1, _data_user2, _data_user3;\n            // Clear any existing tokens first\n            localStorage.removeItem(\"authToken\");\n            localStorage.removeItem(\"refreshToken\");\n            const response = await fetch(_services_apiService__WEBPACK_IMPORTED_MODULE_3__.ApiService.getApiUrl(\"user/auth/login/\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email,\n                    password\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || \"Login failed\");\n            }\n            const data = await response.json();\n            console.log(\"Login response:\", data);\n            // Store tokens - we're using JWT which returns access and refresh tokens\n            if (data.access) {\n                localStorage.setItem(\"authToken\", data.access);\n            } else if (data.token) {\n                // Fallback for non-JWT authentication\n                localStorage.setItem(\"authToken\", data.token);\n            }\n            if (data.refresh) {\n                localStorage.setItem(\"refreshToken\", data.refresh);\n            }\n            // Update user state\n            setUser({\n                id: (_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.id,\n                name: ((_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.full_name) || ((_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : _data_user2.name),\n                email: ((_data_user3 = data.user) === null || _data_user3 === void 0 ? void 0 : _data_user3.email) || email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            throw error;\n        } finally{\n            setLoading(false); // Make sure loading is always set to false\n        }\n    };\n    const logout = ()=>{\n        localStorage.removeItem(\"authToken\");\n        localStorage.removeItem(\"refreshToken\");\n        setUser(null);\n        setIsAuthenticated(false);\n        // Redirect to login page\n        router.push(\"/Authentication/login\");\n    };\n    const value = {\n        user,\n        loading,\n        login,\n        logout,\n        loginWithGoogle,\n        handleGoogleCallback,\n        isAuthenticated\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\ScholarshipPortal\\\\scholarship-portal\\\\src\\\\app\\\\Authentication\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 296,\n        columnNumber: 10\n    }, this);\n}\n_s(AuthProvider, \"l0f2cJVvoD9s2nghHVOe+1CbBy0=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AuthProvider;\nconst useAuth = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvQXV0aGVudGljYXRpb24vY29udGV4dC9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXlGO0FBQzdDO0FBQ2M7QUFnQzFELE1BQU1PLDRCQUFjTixvREFBYUEsQ0FBOEJPO0FBRXhELFNBQVNDLGFBQWEsS0FBcUM7UUFBckMsRUFBRUMsUUFBUSxFQUEyQixHQUFyQzs7SUFDM0IsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdULCtDQUFRQSxDQUFjO0lBQzlDLE1BQU0sQ0FBQ1UsU0FBU0MsV0FBVyxHQUFHWCwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNZLGlCQUFpQkMsbUJBQW1CLEdBQUdiLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1jLFNBQVNaLDBEQUFTQTtJQUV4QkQsZ0RBQVNBLENBQUM7UUFDUixzREFBc0Q7UUFDdEQsTUFBTWMsWUFBWTtZQUNoQixNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7WUFFbkMsSUFBSUYsT0FBTztnQkFDVCxJQUFJO29CQUNGLE1BQU1HLGlCQUFpQixNQUFNQyxNQUFNakIsNERBQVVBLENBQUNrQixTQUFTLENBQUMsNEJBQTRCO3dCQUNsRkMsUUFBUTt3QkFDUkMsU0FBUzs0QkFDUCxnQkFBZ0I7d0JBQ2xCO3dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7NEJBQUVWO3dCQUFNO29CQUMvQjtvQkFFQSxJQUFJLENBQUNHLGVBQWVRLEVBQUUsRUFBRTt3QkFDdEJDLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJWLGVBQWVXLE1BQU07d0JBQzNELHdDQUF3Qzt3QkFDeEMsTUFBTUMsZUFBZWQsYUFBYUMsT0FBTyxDQUFDO3dCQUMxQyxJQUFJYSxjQUFjOzRCQUFlLElBQUk7Z0NBQ2pDLE1BQU1DLGtCQUFrQixNQUFNWixNQUFNakIsNERBQVVBLENBQUNrQixTQUFTLENBQUMsNkJBQTZCO29DQUNwRkMsUUFBUTtvQ0FDUkMsU0FBUzt3Q0FDUCxnQkFBZ0I7b0NBQ2xCO29DQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7d0NBQUVPLFNBQVNGO29DQUFhO2dDQUMvQztnQ0FFQSxJQUFJQyxnQkFBZ0JMLEVBQUUsRUFBRTtvQ0FDdEIsTUFBTU8sY0FBYyxNQUFNRixnQkFBZ0JHLElBQUk7b0NBQzlDbEIsYUFBYW1CLE9BQU8sQ0FBQyxhQUFhRixZQUFZRyxNQUFNO29DQUNwRCw4QkFBOEI7b0NBQzlCQyxjQUFjSixZQUFZRyxNQUFNO29DQUNoQztnQ0FDRjs0QkFDRixFQUFFLE9BQU9FLGNBQWM7Z0NBQ3JCWCxRQUFRWSxLQUFLLENBQUMseUJBQXlCRDs0QkFDekM7d0JBQ0Y7d0JBRUEsdURBQXVEO3dCQUN2RHRCLGFBQWF3QixVQUFVLENBQUM7d0JBQ3hCeEIsYUFBYXdCLFVBQVUsQ0FBQzt3QkFDeEJoQyxRQUFRO3dCQUNSSSxtQkFBbUI7d0JBQ25CRixXQUFXO3dCQUNYO29CQUNGO29CQUVBLGdDQUFnQztvQkFDaEMsTUFBTTJCLGNBQWN0QjtnQkFDdEIsRUFBRSxPQUFPd0IsT0FBTztvQkFDZFosUUFBUVksS0FBSyxDQUFDLGdDQUFnQ0E7b0JBQzlDdkIsYUFBYXdCLFVBQVUsQ0FBQztvQkFDeEJ4QixhQUFhd0IsVUFBVSxDQUFDO29CQUN4QmhDLFFBQVE7b0JBQ1JJLG1CQUFtQjtvQkFDbkJGLFdBQVc7Z0JBQ2I7WUFDRixPQUFPO2dCQUNMQSxXQUFXO1lBQ2I7UUFDRjtRQUNFLE1BQU0yQixnQkFBZ0IsT0FBT3RCO1lBQzdCLElBQUk7Z0JBQ0YsTUFBTTBCLFdBQVcsTUFBTXRCLE1BQU1qQiw0REFBVUEsQ0FBQ2tCLFNBQVMsQ0FBQyxrQkFBa0I7b0JBQ2xFRSxTQUFTO3dCQUNQLGlCQUFpQixVQUFnQixPQUFOUDt3QkFDM0IsZ0JBQWdCO29CQUNsQjtvQkFDQTJCLGFBQWE7Z0JBQ2Y7Z0JBRUUsSUFBSUQsU0FBU2YsRUFBRSxFQUFFO29CQUNmLE1BQU1pQixXQUFXLE1BQU1GLFNBQVNQLElBQUk7b0JBQ3BDMUIsUUFBUTt3QkFDTm9DLElBQUlELFNBQVNDLEVBQUU7d0JBQ2ZDLE1BQU1GLFNBQVNHLFNBQVMsSUFBSUgsU0FBU0UsSUFBSTt3QkFDekNFLE9BQU9KLFNBQVNJLEtBQUs7b0JBQ3ZCO29CQUNBbkMsbUJBQW1CO29CQUNuQmUsUUFBUUMsR0FBRyxDQUFDO2dCQUNkLE9BQU87b0JBQ0xELFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0NhLFNBQVNaLE1BQU07b0JBQy9ELGtEQUFrRDtvQkFDbERiLGFBQWF3QixVQUFVLENBQUM7b0JBQ3hCaEMsUUFBUTtvQkFDUkksbUJBQW1CO2dCQUNyQjtZQUNGLEVBQUUsT0FBTzJCLE9BQU87Z0JBQVdaLFFBQVFZLEtBQUssQ0FBQyxnQ0FBZ0NBO2dCQUN2RXZCLGFBQWF3QixVQUFVLENBQUM7Z0JBQ3hCaEMsUUFBUTtnQkFDUkksbUJBQW1CO1lBQ3JCO1lBQ0FGLFdBQVc7UUFDYjtRQUVGSTtJQUNGLEdBQUcsRUFBRTtJQUNMLE1BQU1rQyxrQkFBa0I7UUFDdEIsMEJBQTBCO1FBQzFCLE1BQU1DLFFBQVE7UUFDZCxNQUFNQyxTQUFTO1FBQ2YsTUFBTUMsT0FBT0MsT0FBT0MsT0FBTyxHQUFHLENBQUNELE9BQU9FLFVBQVUsR0FBR0wsS0FBSSxJQUFLO1FBQzVELE1BQU1NLE1BQU1ILE9BQU9JLE9BQU8sR0FBRyxDQUFDSixPQUFPSyxXQUFXLEdBQUdQLE1BQUssSUFBSztRQUU3RCw2QkFBNkI7UUFDN0IsTUFBTVEsaUJBQWlCLGtEQUNwQix1RkFDRCxpQkFBNEYsT0FBM0VDLG1CQUFtQiwyREFDbkMsNEJBQ0QsVUFBcUQsT0FBM0NBLG1CQUFtQiwyQkFDN0IsVUFBc0QsT0FBNUNDLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHLE9BQ2pELDBCQUE0Qiw4QkFBOEI7UUFDN0QsTUFBTUMsUUFBUVosT0FBT2EsSUFBSSxDQUN2QlAsZ0JBQ0EsZ0JBQ0EsU0FBeUJSLE9BQWhCRCxPQUFNLFlBQXlCRSxPQUFmRCxRQUFPLFVBQW9CSyxPQUFaSixNQUFLLFNBQVcsT0FBSkksS0FBSTtRQUcxRCxtREFBbUQ7UUFDbkRILE9BQU9jLGdCQUFnQixDQUFDLFdBQVcsT0FBT0M7WUFDeEMsMkNBQTJDO1lBQzNDLElBQUlBLE1BQU1DLE1BQU0sS0FBS2hCLE9BQU9pQixRQUFRLENBQUNELE1BQU0sRUFBRTtZQUU3QyxJQUFJRCxNQUFNRyxJQUFJLENBQUNDLElBQUksS0FBSyx1QkFBdUI7Z0JBQzdDLElBQUlQLE9BQU9BLE1BQU1RLEtBQUs7Z0JBQ3BCLElBQUk7b0JBQ0osTUFBTUMscUJBQXFCTixNQUFNRyxJQUFJLENBQUN2RCxLQUFLLEVBQUVvRCxNQUFNRyxJQUFJLENBQUMvRCxJQUFJO29CQUM1RE0sT0FBTzZELElBQUksQ0FBQztnQkFDZCxFQUFFLE9BQU9uQyxPQUFPO29CQUNkWixRQUFRWSxLQUFLLENBQUMsK0JBQStCQTtnQkFDL0M7WUFBTztRQUNYO0lBQ0Y7SUFDQSxNQUFNa0MsdUJBQXVCLE9BQU8xRCxPQUFlNEI7UUFDakQsSUFBSTtZQUNGLE1BQU1GLFdBQVcsTUFBTXRCLE1BQU1qQiw0REFBVUEsQ0FBQ2tCLFNBQVMsQ0FBQyw0QkFBNEI7Z0JBQzVFQyxRQUFRO2dCQUNSQyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7Z0JBQ0FvQixhQUFhO2dCQUNibkIsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQmtELFVBQVU1RDtvQkFDVmdDLE9BQU9KLFNBQVNJLEtBQUs7b0JBQ3JCRCxXQUFXSCxTQUFTRSxJQUFJO2dCQUMxQjtZQUNGO1lBRUEsSUFBSSxDQUFDSixTQUFTZixFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1rRCxZQUFZLE1BQU1uQyxTQUFTUCxJQUFJO2dCQUNyQyxNQUFNLElBQUkyQyxNQUFNRCxVQUFVckMsS0FBSyxJQUFJO1lBQ3JDO1lBRUEsTUFBTStCLE9BQU8sTUFBTTdCLFNBQVNQLElBQUk7WUFDaENQLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUIwQztZQUVyQyx3Q0FBd0M7WUFDeEMsSUFBSUEsS0FBS2xDLE1BQU0sRUFBRTtnQkFDZixhQUFhO2dCQUNicEIsYUFBYW1CLE9BQU8sQ0FBQyxhQUFhbUMsS0FBS2xDLE1BQU07Z0JBQzdDLElBQUlrQyxLQUFLdEMsT0FBTyxFQUFFO29CQUNoQmhCLGFBQWFtQixPQUFPLENBQUMsZ0JBQWdCbUMsS0FBS3RDLE9BQU87Z0JBQ25EO1lBQ0YsT0FBTyxJQUFJc0MsS0FBS3ZELEtBQUssRUFBRTtnQkFDckIsc0JBQXNCO2dCQUN0QkMsYUFBYW1CLE9BQU8sQ0FBQyxhQUFhbUMsS0FBS3ZELEtBQUs7WUFDOUM7WUFFQVAsUUFBUTtnQkFDTm9DLElBQUkwQixLQUFLL0QsSUFBSSxDQUFDcUMsRUFBRTtnQkFDaEJDLE1BQU15QixLQUFLL0QsSUFBSSxDQUFDdUMsU0FBUztnQkFDekJDLE9BQU91QixLQUFLL0QsSUFBSSxDQUFDd0MsS0FBSztZQUN4QjtZQUVBbkMsbUJBQW1CO1FBQ3JCLEVBQUUsT0FBTzJCLE9BQU87WUFBT1osUUFBUVksS0FBSyxDQUFDLHNCQUFzQkE7WUFDekQsTUFBTUE7UUFDUjtJQUNGO0lBQ0EsTUFBTXVDLFFBQVEsT0FBTy9CLE9BQWVnQztRQUNsQ3JFLFdBQVc7UUFDWCxJQUFJO2dCQW9DSTRELFlBQ0VBLGFBQXdCQSxhQUN2QkE7WUFyQ1Qsa0NBQWtDO1lBQ2xDdEQsYUFBYXdCLFVBQVUsQ0FBQztZQUN4QnhCLGFBQWF3QixVQUFVLENBQUM7WUFFeEIsTUFBTUMsV0FBVyxNQUFNdEIsTUFBTWpCLDREQUFVQSxDQUFDa0IsU0FBUyxDQUFDLHFCQUFxQjtnQkFDckVDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtnQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUFFc0I7b0JBQU9nQztnQkFBUztZQUN6QztZQUVBLElBQUksQ0FBQ3RDLFNBQVNmLEVBQUUsRUFBRTtnQkFDaEIsTUFBTWtELFlBQVksTUFBTW5DLFNBQVNQLElBQUk7Z0JBQ3JDLE1BQU0sSUFBSTJDLE1BQU1ELFVBQVVJLE1BQU0sSUFBSTtZQUN0QztZQUVBLE1BQU1WLE9BQU8sTUFBTTdCLFNBQVNQLElBQUk7WUFFaENQLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUIwQztZQUUvQix5RUFBeUU7WUFDekUsSUFBSUEsS0FBS2xDLE1BQU0sRUFBRTtnQkFDZnBCLGFBQWFtQixPQUFPLENBQUMsYUFBYW1DLEtBQUtsQyxNQUFNO1lBQy9DLE9BQU8sSUFBSWtDLEtBQUt2RCxLQUFLLEVBQUU7Z0JBQ3JCLHNDQUFzQztnQkFDdENDLGFBQWFtQixPQUFPLENBQUMsYUFBYW1DLEtBQUt2RCxLQUFLO1lBQzlDO1lBRUEsSUFBSXVELEtBQUt0QyxPQUFPLEVBQUU7Z0JBQ2hCaEIsYUFBYW1CLE9BQU8sQ0FBQyxnQkFBZ0JtQyxLQUFLdEMsT0FBTztZQUNuRDtZQUVBLG9CQUFvQjtZQUNwQnhCLFFBQVE7Z0JBQ05vQyxFQUFFLEdBQUUwQixhQUFBQSxLQUFLL0QsSUFBSSxjQUFUK0QsaUNBQUFBLFdBQVcxQixFQUFFO2dCQUNqQkMsTUFBTXlCLEVBQUFBLGNBQUFBLEtBQUsvRCxJQUFJLGNBQVQrRCxrQ0FBQUEsWUFBV3hCLFNBQVMsT0FBSXdCLGNBQUFBLEtBQUsvRCxJQUFJLGNBQVQrRCxrQ0FBQUEsWUFBV3pCLElBQUk7Z0JBQzdDRSxPQUFPdUIsRUFBQUEsY0FBQUEsS0FBSy9ELElBQUksY0FBVCtELGtDQUFBQSxZQUFXdkIsS0FBSyxLQUFJQTtZQUM3QjtZQUVBbkMsbUJBQW1CO1FBQ3JCLEVBQUUsT0FBTzJCLE9BQU87WUFDZFosUUFBUVksS0FBSyxDQUFDLGdCQUFnQkE7WUFDOUIsTUFBTUE7UUFDUixTQUFVO1lBQ1I3QixXQUFXLFFBQVEsMkNBQTJDO1FBQ2hFO0lBQ0Y7SUFDQSxNQUFNdUUsU0FBUztRQUNiakUsYUFBYXdCLFVBQVUsQ0FBQztRQUN4QnhCLGFBQWF3QixVQUFVLENBQUM7UUFDeEJoQyxRQUFRO1FBQ1JJLG1CQUFtQjtRQUNuQix5QkFBeUI7UUFDekJDLE9BQU82RCxJQUFJLENBQUM7SUFDZDtJQUVBLE1BQU1RLFFBQVE7UUFDWjNFO1FBQ0FFO1FBQ0FxRTtRQUNBRztRQUNBakM7UUFDQXlCO1FBQ0E5RDtJQUNGO0lBRUEscUJBQU8sOERBQUNSLFlBQVlnRixRQUFRO1FBQUNELE9BQU9BO2tCQUFRNUU7Ozs7OztBQUM5QztHQWxRZ0JEOztRQUlDSixzREFBU0E7OztLQUpWSTtBQW9RVCxNQUFNK0UsVUFBVTs7SUFDckIsTUFBTUMsVUFBVXZGLGlEQUFVQSxDQUFDSztJQUMzQixJQUFJa0YsWUFBWWpGLFdBQVc7UUFDekIsTUFBTSxJQUFJeUUsTUFBTTtJQUNsQjtJQUNBLE9BQU9RO0FBQ1QsRUFBRTtJQU5XRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL0F1dGhlbnRpY2F0aW9uL2NvbnRleHQvQXV0aENvbnRleHQudHN4PzMxN2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5pbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvYXBpU2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgVXNlclByb2ZpbGUge1xyXG4gIGJpbz86IHN0cmluZztcclxuICBlZHVjYXRpb24/OiBzdHJpbmc7XHJcbiAgcGhvbmVfbnVtYmVyPzogc3RyaW5nO1xyXG4gIGNvdW50cnk/OiBzdHJpbmc7XHJcbiAgZGF0ZV9vZl9iaXJ0aD86IHN0cmluZztcclxuICBwcm9maWxlX3BpY3R1cmU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVc2VyIHtcclxuICBpZD86IHN0cmluZztcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgZnVsbF9uYW1lPzogc3RyaW5nO1xyXG4gIGZpcnN0X25hbWU/OiBzdHJpbmc7XHJcbiAgbGFzdF9uYW1lPzogc3RyaW5nO1xyXG4gIHByb2ZpbGU/OiBVc2VyUHJvZmlsZTtcclxuICBkYXRlX2pvaW5lZD86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XHJcbiAgdXNlcjogVXNlciB8IG51bGw7XHJcbiAgbG9hZGluZzogYm9vbGVhbjtcclxuICBsb2dpbjogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgbG9nb3V0OiAoKSA9PiB2b2lkO1xyXG4gIGxvZ2luV2l0aEdvb2dsZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBoYW5kbGVHb29nbGVDYWxsYmFjazogKHRva2VuOiBzdHJpbmcsIHVzZXJEYXRhOiBhbnkpID0+IFByb21pc2U8dm9pZD47XHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXV0aENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtpc0F1dGhlbnRpY2F0ZWQsIHNldElzQXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBpcyBhbHJlYWR5IGF1dGhlbnRpY2F0ZWQgb24gbW91bnRcclxuICAgIGNvbnN0IGNoZWNrQXV0aCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aFRva2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICB0cnkgeyAgICAgICAgICAvLyBGaXJzdCwgdmVyaWZ5IHRoZSB0b2tlbiBpcyB2YWxpZFxyXG4gICAgICAgICAgY29uc3QgdmVyaWZ5UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBcGlTZXJ2aWNlLmdldEFwaVVybCgndXNlci9hdXRoL3Rva2VuL3ZlcmlmeS8nKSwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4gfSksXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoIXZlcmlmeVJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gaW52YWxpZCwgc3RhdHVzOlwiLCB2ZXJpZnlSZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICAvLyBUcnkgdG8gdXNlIHJlZnJlc2ggdG9rZW4gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWZyZXNoVG9rZW4nKTtcclxuICAgICAgICAgICAgaWYgKHJlZnJlc2hUb2tlbikgeyAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKEFwaVNlcnZpY2UuZ2V0QXBpVXJsKCd1c2VyL2F1dGgvdG9rZW4vcmVmcmVzaC8nKSwge1xyXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcmVmcmVzaDogcmVmcmVzaFRva2VuIH0pLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaERhdGEgPSBhd2FpdCByZWZyZXNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgcmVmcmVzaERhdGEuYWNjZXNzKTtcclxuICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgbmV3IHRva2VuXHJcbiAgICAgICAgICAgICAgICAgIGZldGNoVXNlckRhdGEocmVmcmVzaERhdGEuYWNjZXNzKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHJlZnJlc2hFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgcmVmcmVzaEVycm9yKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIElmIHdlIGdldCBoZXJlLCBib3RoIHRva2VuIHZlcmlmeSBhbmQgcmVmcmVzaCBmYWlsZWRcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7XHJcbiAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRva2VuIGlzIHZhbGlkLCBnZXQgdXNlciBkYXRhXHJcbiAgICAgICAgICBhd2FpdCBmZXRjaFVzZXJEYXRhKHRva2VuKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gY2hlY2sgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZWZyZXNoVG9rZW4nKTtcclxuICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgICBjb25zdCBmZXRjaFVzZXJEYXRhID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFwaVNlcnZpY2UuZ2V0QXBpVXJsKCd1c2VyL2F1dGgvbWUvJyksIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgc2V0VXNlcih7XHJcbiAgICAgICAgICAgICAgaWQ6IHVzZXJEYXRhLmlkLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLmZ1bGxfbmFtZSB8fCB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGF1dGhlbnRpY2F0ZWQgc3VjY2Vzc2Z1bGx5IG9uIHBhZ2UgcmVmcmVzaFwiKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGdldCB1c2VyIGRhdGEsIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgLy8gVG9rZW4gbWlnaHQgYmUgdmFsaWQgYnV0IHVzZXIgZGF0YSBmZXRjaCBmYWlsZWRcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICAgICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGNoZWNrIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7XHJcbiAgICAgICAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgY2hlY2tBdXRoKCk7XHJcbiAgfSwgW10pO1xyXG4gIGNvbnN0IGxvZ2luV2l0aEdvb2dsZSA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIC8vIE9wZW4gR29vZ2xlIE9BdXRoIHBvcHVwXHJcbiAgICBjb25zdCB3aWR0aCA9IDUwMDtcclxuICAgIGNvbnN0IGhlaWdodCA9IDYwMDtcclxuICAgIGNvbnN0IGxlZnQgPSB3aW5kb3cuc2NyZWVuWCArICh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpZHRoKSAvIDI7XHJcbiAgICBjb25zdCB0b3AgPSB3aW5kb3cuc2NyZWVuWSArICh3aW5kb3cub3V0ZXJIZWlnaHQgLSBoZWlnaHQpIC8gMjtcclxuICAgIFxyXG4gICAgLy8gQ29uc3RydWN0IEdvb2dsZSBPQXV0aCBVUkxcclxuICAgIGNvbnN0IGdvb2dsZU9BdXRoVXJsID0gYGh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi92Mi9hdXRoP2AgK1xyXG4gICAgICBgY2xpZW50X2lkPTYwNDU1ODk4NjQ3NS03NTVmYnY1YnZsbmFtbmhkbTNmdHM5Y2s1NHVqYmt2NC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbWAgK1xyXG4gICAgICBgJnJlZGlyZWN0X3VyaT0ke2VuY29kZVVSSUNvbXBvbmVudCgnaHR0cDovL2xvY2FsaG9zdDozMDAxL0F1dGhlbnRpY2F0aW9uL2dvb2dsZS1jYWxsYmFjaycpfWAgK1xyXG4gICAgICBgJnJlc3BvbnNlX3R5cGU9aWRfdG9rZW5gICtcclxuICAgICAgYCZzY29wZT0ke2VuY29kZVVSSUNvbXBvbmVudCgnb3BlbmlkIGVtYWlsIHByb2ZpbGUnKX1gICtcclxuICAgICAgYCZub25jZT0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YCArXHJcbiAgICAgIGAmcHJvbXB0PXNlbGVjdF9hY2NvdW50YDsgICAgLy8gT3BlbiB0aGUgR29vZ2xlIE9BdXRoIHBvcHVwXHJcbiAgICBjb25zdCBwb3B1cCA9IHdpbmRvdy5vcGVuKFxyXG4gICAgICBnb29nbGVPQXV0aFVybCxcclxuICAgICAgJ0dvb2dsZSBMb2dpbicsXHJcbiAgICAgIGB3aWR0aD0ke3dpZHRofSxoZWlnaHQ9JHtoZWlnaHR9LGxlZnQ9JHtsZWZ0fSx0b3A9JHt0b3B9LHRvb2xiYXI9bm8sbWVudWJhcj1ubyxsb2NhdGlvbj1ubyxzdGF0dXM9bm9gXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgYSBtZXNzYWdlIGxpc3RlbmVyIHRvIGhhbmRsZSB0aGUgY2FsbGJhY2tcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgYXN5bmMgKGV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIE9ubHkgYWNjZXB0IG1lc3NhZ2VzIGZyb20gb3VyIG93biBkb21haW5cclxuICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ0dPT0dMRV9BVVRIX1NVQ0NFU1MnKSB7XHJcbiAgICAgICAgaWYgKHBvcHVwKSBwb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGhhbmRsZUdvb2dsZUNhbGxiYWNrKGV2ZW50LmRhdGEudG9rZW4sIGV2ZW50LmRhdGEudXNlcik7XHJcbiAgICAgICAgICByb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignR29vZ2xlIGF1dGggY2FsbGJhY2sgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIH0gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGhhbmRsZUdvb2dsZUNhbGxiYWNrID0gYXN5bmMgKHRva2VuOiBzdHJpbmcsIHVzZXJEYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7ICAgICAgLy8gRXhjaGFuZ2UgdGhlIEdvb2dsZSBhdXRoIHRva2VuIGZvciBvdXIgYXBwIEpXVFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFwaVNlcnZpY2UuZ2V0QXBpVXJsKCd1c2VyL2F1dGgvZ29vZ2xlL3Rva2VuLycpLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgICAgIGlkX3Rva2VuOiB0b2tlbiwgXHJcbiAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgICBmdWxsX25hbWU6IHVzZXJEYXRhLm5hbWVcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0dvb2dsZSBhdXRoZW50aWNhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXCJHb29nbGUgYXV0aCByZXNwb25zZTpcIiwgZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTdG9yZSB0b2tlbnMgYmFzZWQgb24gd2hhdCdzIHJldHVybmVkXHJcbiAgICAgIGlmIChkYXRhLmFjY2Vzcykge1xyXG4gICAgICAgIC8vIEpXVCBmb3JtYXRcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgZGF0YS5hY2Nlc3MpO1xyXG4gICAgICAgIGlmIChkYXRhLnJlZnJlc2gpIHtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBkYXRhLnJlZnJlc2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChkYXRhLnRva2VuKSB7XHJcbiAgICAgICAgLy8gTGVnYWN5IHRva2VuIGZvcm1hdFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0VXNlcih7XHJcbiAgICAgICAgaWQ6IGRhdGEudXNlci5pZCxcclxuICAgICAgICBuYW1lOiBkYXRhLnVzZXIuZnVsbF9uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBkYXRhLnVzZXIuZW1haWwsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgICAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgYXV0aCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0b2tlbnMgZmlyc3RcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFwaVNlcnZpY2UuZ2V0QXBpVXJsKCd1c2VyL2F1dGgvbG9naW4vJyksIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbWFpbCwgcGFzc3dvcmQgfSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnTG9naW4gZmFpbGVkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhcIkxvZ2luIHJlc3BvbnNlOlwiLCBkYXRhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFN0b3JlIHRva2VucyAtIHdlJ3JlIHVzaW5nIEpXVCB3aGljaCByZXR1cm5zIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnNcclxuICAgICAgaWYgKGRhdGEuYWNjZXNzKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGhUb2tlbicsIGRhdGEuYWNjZXNzKTtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhLnRva2VuKSB7XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1KV1QgYXV0aGVudGljYXRpb25cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgZGF0YS50b2tlbik7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChkYXRhLnJlZnJlc2gpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaFRva2VuJywgZGF0YS5yZWZyZXNoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHVzZXIgc3RhdGVcclxuICAgICAgc2V0VXNlcih7XHJcbiAgICAgICAgaWQ6IGRhdGEudXNlcj8uaWQsXHJcbiAgICAgICAgbmFtZTogZGF0YS51c2VyPy5mdWxsX25hbWUgfHwgZGF0YS51c2VyPy5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBkYXRhLnVzZXI/LmVtYWlsIHx8IGVtYWlsLFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgLy8gTWFrZSBzdXJlIGxvYWRpbmcgaXMgYWx3YXlzIHNldCB0byBmYWxzZVxyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlZnJlc2hUb2tlbicpO1xyXG4gICAgc2V0VXNlcihudWxsKTtcclxuICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlXHJcbiAgICByb3V0ZXIucHVzaCgnL0F1dGhlbnRpY2F0aW9uL2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdmFsdWUgPSB7XHJcbiAgICB1c2VyLFxyXG4gICAgbG9hZGluZyxcclxuICAgIGxvZ2luLFxyXG4gICAgbG9nb3V0LFxyXG4gICAgbG9naW5XaXRoR29vZ2xlLFxyXG4gICAgaGFuZGxlR29vZ2xlQ2FsbGJhY2ssXHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L0F1dGhDb250ZXh0LlByb3ZpZGVyPjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSAoKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xyXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xyXG4gIH1cclxuICByZXR1cm4gY29udGV4dDtcclxufTtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsIkFwaVNlcnZpY2UiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImlzQXV0aGVudGljYXRlZCIsInNldElzQXV0aGVudGljYXRlZCIsInJvdXRlciIsImNoZWNrQXV0aCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInZlcmlmeVJlc3BvbnNlIiwiZmV0Y2giLCJnZXRBcGlVcmwiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoUmVzcG9uc2UiLCJyZWZyZXNoIiwicmVmcmVzaERhdGEiLCJqc29uIiwic2V0SXRlbSIsImFjY2VzcyIsImZldGNoVXNlckRhdGEiLCJyZWZyZXNoRXJyb3IiLCJlcnJvciIsInJlbW92ZUl0ZW0iLCJyZXNwb25zZSIsImNyZWRlbnRpYWxzIiwidXNlckRhdGEiLCJpZCIsIm5hbWUiLCJmdWxsX25hbWUiLCJlbWFpbCIsImxvZ2luV2l0aEdvb2dsZSIsIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsIndpbmRvdyIsInNjcmVlblgiLCJvdXRlcldpZHRoIiwidG9wIiwic2NyZWVuWSIsIm91dGVySGVpZ2h0IiwiZ29vZ2xlT0F1dGhVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJwb3B1cCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImRhdGEiLCJ0eXBlIiwiY2xvc2UiLCJoYW5kbGVHb29nbGVDYWxsYmFjayIsInB1c2giLCJpZF90b2tlbiIsImVycm9yRGF0YSIsIkVycm9yIiwibG9naW4iLCJwYXNzd29yZCIsImRldGFpbCIsImxvZ291dCIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VBdXRoIiwiY29udGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx\n"));

/***/ })

});