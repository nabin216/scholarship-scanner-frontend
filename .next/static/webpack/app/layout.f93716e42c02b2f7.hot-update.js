"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"d50a0e5f4f1d\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/OWE0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImQ1MGEwZTVmNGYxZFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx":
/*!********************************************************!*\
  !*** ./src/app/Authentication/context/AuthContext.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if the user is already authenticated on mount\n        const checkAuth = async ()=>{\n            const token = localStorage.getItem(\"authToken\");\n            if (token) {\n                try {\n                    // First, verify the token is valid\n                    const verifyResponse = await fetch(\"http://localhost:8000/api/user/auth/token/verify/\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            token\n                        })\n                    });\n                    if (!verifyResponse.ok) {\n                        console.log(\"Token invalid, status:\", verifyResponse.status);\n                        // Try to use refresh token if available\n                        const refreshToken = localStorage.getItem(\"refreshToken\");\n                        if (refreshToken) {\n                            try {\n                                const refreshResponse = await fetch(\"http://localhost:8000/api/user/auth/token/refresh/\", {\n                                    method: \"POST\",\n                                    headers: {\n                                        \"Content-Type\": \"application/json\"\n                                    },\n                                    body: JSON.stringify({\n                                        refresh: refreshToken\n                                    })\n                                });\n                                if (refreshResponse.ok) {\n                                    const refreshData = await refreshResponse.json();\n                                    localStorage.setItem(\"authToken\", refreshData.access);\n                                    // Continue with the new token\n                                    fetchUserData(refreshData.access);\n                                    return;\n                                }\n                            } catch (refreshError) {\n                                console.error(\"Token refresh failed:\", refreshError);\n                            }\n                        }\n                        // If we get here, both token verify and refresh failed\n                        localStorage.removeItem(\"authToken\");\n                        localStorage.removeItem(\"refreshToken\");\n                        setUser(null);\n                        setIsAuthenticated(false);\n                        setLoading(false);\n                        return;\n                    }\n                    // Token is valid, get user data\n                    await fetchUserData(token);\n                } catch (error) {\n                    console.error(\"Authentication check failed:\", error);\n                    localStorage.removeItem(\"authToken\");\n                    localStorage.removeItem(\"refreshToken\");\n                    setUser(null);\n                    setIsAuthenticated(false);\n                    setLoading(false);\n                }\n            } else {\n                setLoading(false);\n            }\n        };\n        const fetchUserData = async (token)=>{\n            try {\n                const response = await fetch(\"http://localhost:8000/api/user/auth/me/\", {\n                    headers: {\n                        \"Authorization\": \"Bearer \".concat(token),\n                        \"Content-Type\": \"application/json\"\n                    },\n                    credentials: \"include\"\n                });\n                if (response.ok) {\n                    const userData = await response.json();\n                    setUser({\n                        id: userData.id,\n                        name: userData.full_name || userData.name,\n                        email: userData.email\n                    });\n                    setIsAuthenticated(true);\n                    console.log(\"User authenticated successfully on page refresh\");\n                } else {\n                    console.log(\"Failed to get user data, status:\", response.status);\n                    // Token might be valid but user data fetch failed\n                    localStorage.removeItem(\"authToken\");\n                    setUser(null);\n                    setIsAuthenticated(false);\n                }\n            } catch (error) {\n                console.error(\"Authentication check failed:\", error);\n                localStorage.removeItem(\"authToken\");\n                setUser(null);\n                setIsAuthenticated(false);\n            }\n            setLoading(false);\n        };\n        checkAuth();\n    }, []);\n    const loginWithGoogle = async ()=>{\n        // Open Google OAuth popup\n        const width = 500;\n        const height = 600;\n        const left = window.screenX + (window.outerWidth - width) / 2;\n        const top = window.screenY + (window.outerHeight - height) / 2;\n        // Construct Google OAuth URL\n        const googleOAuthUrl = \"https://accounts.google.com/o/oauth2/v2/auth?\" + \"client_id=604558986475-755fbv5bvlnamnhdm3fts9ck54ujbkv4.apps.googleusercontent.com\" + \"&redirect_uri=\".concat(encodeURIComponent(\"http://localhost:3001/Authentication/google-callback\")) + \"&response_type=id_token\" + \"&scope=\".concat(encodeURIComponent(\"openid email profile\")) + \"&nonce=\".concat(Math.random().toString(36).substring(2, 15)) + \"&prompt=select_account\"; // Open the Google OAuth popup\n        const popup = window.open(googleOAuthUrl, \"Google Login\", \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top, \",toolbar=no,menubar=no,location=no,status=no\"));\n        // Create a message listener to handle the callback\n        window.addEventListener(\"message\", async (event)=>{\n            // Only accept messages from our own domain\n            if (event.origin !== window.location.origin) return;\n            if (event.data.type === \"GOOGLE_AUTH_SUCCESS\") {\n                if (popup) popup.close();\n                try {\n                    await handleGoogleCallback(event.data.token, event.data.user);\n                    router.push(\"/profile\");\n                } catch (error) {\n                    console.error(\"Google auth callback error:\", error);\n                }\n            }\n        });\n    };\n    const handleGoogleCallback = async (token, userData)=>{\n        try {\n            const response = await fetch(\"http://localhost:8000/api/user/auth/google/token/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    id_token: token,\n                    email: userData.email,\n                    full_name: userData.name\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Google authentication failed\");\n            }\n            const data = await response.json();\n            console.log(\"Google auth response:\", data);\n            // Store tokens based on what's returned\n            if (data.access) {\n                // JWT format\n                localStorage.setItem(\"authToken\", data.access);\n                if (data.refresh) {\n                    localStorage.setItem(\"refreshToken\", data.refresh);\n                }\n            } else if (data.token) {\n                // Legacy token format\n                localStorage.setItem(\"authToken\", data.token);\n            }\n            setUser({\n                id: data.user.id,\n                name: data.user.full_name,\n                email: data.user.email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Google auth error:\", error);\n            throw error;\n        }\n    };\n    const login = async (email, password)=>{\n        setLoading(true);\n        try {\n            var _data_user, _data_user1, _data_user2, _data_user3;\n            // Clear any existing tokens first\n            localStorage.removeItem(\"authToken\");\n            localStorage.removeItem(\"refreshToken\");\n            const response = await fetch(\"http://localhost:8000/api/user/auth/login/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email,\n                    password\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || \"Login failed\");\n            }\n            const data = await response.json();\n            console.log(\"Login response:\", data);\n            // Store tokens - we're using JWT which returns access and refresh tokens\n            if (data.access) {\n                localStorage.setItem(\"authToken\", data.access);\n            } else if (data.token) {\n                // Fallback for non-JWT authentication\n                localStorage.setItem(\"authToken\", data.token);\n            }\n            if (data.refresh) {\n                localStorage.setItem(\"refreshToken\", data.refresh);\n            }\n            // Update user state\n            setUser({\n                id: (_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.id,\n                name: ((_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.full_name) || ((_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : _data_user2.name),\n                email: ((_data_user3 = data.user) === null || _data_user3 === void 0 ? void 0 : _data_user3.email) || email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            throw error;\n        } finally{\n            setLoading(false); // Make sure loading is always set to false\n        }\n    };\n    const register = async (name, email, password)=>{\n        setLoading(true);\n        try {\n            // Split full name into first and last name\n            const [firstName, ...lastNameParts] = name.trim().split(\" \");\n            const lastName = lastNameParts.join(\" \");\n            const response = await fetch(\"http://localhost:8000/api/user/auth/register/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    email,\n                    password,\n                    password2: password,\n                    full_name: name,\n                    first_name: firstName,\n                    last_name: lastName || \"\" // If no last name provided, use empty string\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                const errorMessage = errorData.detail || Object.values(errorData).map((err)=>Array.isArray(err) ? err.join(\", \") : err).join(\", \");\n                throw new Error(errorMessage || \"Registration failed\");\n            }\n            const data = await response.json();\n            // Some APIs might return a token immediately after registration\n            if (data.token) {\n                var _data_user, _data_user1, _data_user2;\n                localStorage.setItem(\"authToken\", data.token);\n                setUser({\n                    id: (_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.id,\n                    name: ((_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.name) || name,\n                    email: ((_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : _data_user2.email) || email\n                });\n                setIsAuthenticated(true);\n            }\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const logout = ()=>{\n        localStorage.removeItem(\"authToken\");\n        localStorage.removeItem(\"refreshToken\");\n        setUser(null);\n        setIsAuthenticated(false);\n        // Redirect to login page\n        router.push(\"/Authentication/login\");\n    };\n    const value = {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle,\n        handleGoogleCallback,\n        isAuthenticated\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\ScholarshipPortal\\\\scholarship-portal\\\\src\\\\app\\\\Authentication\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 349,\n        columnNumber: 10\n    }, this);\n}\n_s(AuthProvider, \"l0f2cJVvoD9s2nghHVOe+1CbBy0=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AuthProvider;\nconst useAuth = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvQXV0aGVudGljYXRpb24vY29udGV4dC9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFeUY7QUFDN0M7QUFnQzVDLE1BQU1NLDRCQUFjTCxvREFBYUEsQ0FBOEJNO0FBRXhELFNBQVNDLGFBQWEsS0FBcUM7UUFBckMsRUFBRUMsUUFBUSxFQUEyQixHQUFyQzs7SUFDM0IsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdSLCtDQUFRQSxDQUFjO0lBQzlDLE1BQU0sQ0FBQ1MsU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNXLGlCQUFpQkMsbUJBQW1CLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1hLFNBQVNYLDBEQUFTQTtJQUV4QkQsZ0RBQVNBLENBQUM7UUFDUixzREFBc0Q7UUFDdEQsTUFBTWEsWUFBWTtZQUNoQixNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7WUFFbkMsSUFBSUYsT0FBTztnQkFDVCxJQUFJO29CQUNGLG1DQUFtQztvQkFDbkMsTUFBTUcsaUJBQWlCLE1BQU1DLE1BQU0scURBQXFEO3dCQUN0RkMsUUFBUTt3QkFDUkMsU0FBUzs0QkFDUCxnQkFBZ0I7d0JBQ2xCO3dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7NEJBQUVUO3dCQUFNO29CQUMvQjtvQkFFQSxJQUFJLENBQUNHLGVBQWVPLEVBQUUsRUFBRTt3QkFDdEJDLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJULGVBQWVVLE1BQU07d0JBQzNELHdDQUF3Qzt3QkFDeEMsTUFBTUMsZUFBZWIsYUFBYUMsT0FBTyxDQUFDO3dCQUMxQyxJQUFJWSxjQUFjOzRCQUNoQixJQUFJO2dDQUNGLE1BQU1DLGtCQUFrQixNQUFNWCxNQUFNLHNEQUFzRDtvQ0FDeEZDLFFBQVE7b0NBQ1JDLFNBQVM7d0NBQ1AsZ0JBQWdCO29DQUNsQjtvQ0FDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFD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Q3hCL0IsUUFBUTtRQUNSSSxtQkFBbUI7UUFDbkIseUJBQXlCO1FBQ3pCQyxPQUFPNEQsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxNQUFNeUIsUUFBUTtRQUNaM0Y7UUFDQUU7UUFDQW9FO1FBQ0FHO1FBQ0FpQjtRQUNBbEQ7UUFDQXlCO1FBQ0E3RDtJQUNGO0lBRUEscUJBQU8sOERBQUNSLFlBQVlnRyxRQUFRO1FBQUNELE9BQU9BO2tCQUFRNUY7Ozs7OztBQUM5QztHQXhUZ0JEOztRQUlDSCxzREFBU0E7OztLQUpWRztBQTBUVCxNQUFNK0YsVUFBVTs7SUFDckIsTUFBTUMsVUFBVXRHLGlEQUFVQSxDQUFDSTtJQUMzQixJQUFJa0csWUFBWWpHLFdBQVc7UUFDekIsTUFBTSxJQUFJd0UsTUFBTTtJQUNsQjtJQUNBLE9BQU95QjtBQUNULEVBQUU7SUFOV0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9BdXRoZW50aWNhdGlvbi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeD8zMTdiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuXHJcbmludGVyZmFjZSBVc2VyUHJvZmlsZSB7XHJcbiAgYmlvPzogc3RyaW5nO1xyXG4gIGVkdWNhdGlvbj86IHN0cmluZztcclxuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XHJcbiAgY291bnRyeT86IHN0cmluZztcclxuICBkYXRlX29mX2JpcnRoPzogc3RyaW5nO1xyXG4gIHByb2ZpbGVfcGljdHVyZT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBmdWxsX25hbWU/OiBzdHJpbmc7XHJcbiAgZmlyc3RfbmFtZT86IHN0cmluZztcclxuICBsYXN0X25hbWU/OiBzdHJpbmc7XHJcbiAgcHJvZmlsZT86IFVzZXJQcm9maWxlO1xyXG4gIGRhdGVfam9pbmVkPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcclxuICB1c2VyOiBVc2VyIHwgbnVsbDtcclxuICBsb2FkaW5nOiBib29sZWFuO1xyXG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XHJcbiAgbG9naW5XaXRoR29vZ2xlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGhhbmRsZUdvb2dsZUNhbGxiYWNrOiAodG9rZW46IHN0cmluZywgdXNlckRhdGE6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2lzQXV0aGVudGljYXRlZCwgc2V0SXNBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIGlzIGFscmVhZHkgYXV0aGVudGljYXRlZCBvbiBtb3VudFxyXG4gICAgY29uc3QgY2hlY2tBdXRoID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBGaXJzdCwgdmVyaWZ5IHRoZSB0b2tlbiBpcyB2YWxpZFxyXG4gICAgICAgICAgY29uc3QgdmVyaWZ5UmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91c2VyL2F1dGgvdG9rZW4vdmVyaWZ5LycsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRva2VuIH0pLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKCF2ZXJpZnlSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRva2VuIGludmFsaWQsIHN0YXR1czpcIiwgdmVyaWZ5UmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHVzZSByZWZyZXNoIHRva2VuIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVmcmVzaFRva2VuJyk7XHJcbiAgICAgICAgICAgIGlmIChyZWZyZXNoVG9rZW4pIHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdXNlci9hdXRoL3Rva2VuL3JlZnJlc2gvJywge1xyXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcmVmcmVzaDogcmVmcmVzaFRva2VuIH0pLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaERhdGEgPSBhd2FpdCByZWZyZXNoUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgcmVmcmVzaERhdGEuYWNjZXNzKTtcclxuICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgbmV3IHRva2VuXHJcbiAgICAgICAgICAgICAgICAgIGZldGNoVXNlckRhdGEocmVmcmVzaERhdGEuYWNjZXNzKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKHJlZnJlc2hFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgcmVmcmVzaEVycm9yKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIElmIHdlIGdldCBoZXJlLCBib3RoIHRva2VuIHZlcmlmeSBhbmQgcmVmcmVzaCBmYWlsZWRcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7XHJcbiAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRva2VuIGlzIHZhbGlkLCBnZXQgdXNlciBkYXRhXHJcbiAgICAgICAgICBhd2FpdCBmZXRjaFVzZXJEYXRhKHRva2VuKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gY2hlY2sgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZWZyZXNoVG9rZW4nKTtcclxuICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBmZXRjaFVzZXJEYXRhID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3VzZXIvYXV0aC9tZS8nLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHNldFVzZXIoe1xyXG4gICAgICAgICAgICAgIGlkOiB1c2VyRGF0YS5pZCxcclxuICAgICAgICAgICAgICBuYW1lOiB1c2VyRGF0YS5mdWxsX25hbWUgfHwgdXNlckRhdGEubmFtZSxcclxuICAgICAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBhdXRoZW50aWNhdGVkIHN1Y2Nlc3NmdWxseSBvbiBwYWdlIHJlZnJlc2hcIik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBnZXQgdXNlciBkYXRhLCBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIC8vIFRva2VuIG1pZ2h0IGJlIHZhbGlkIGJ1dCB1c2VyIGRhdGEgZmV0Y2ggZmFpbGVkXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikgeyAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBjaGVjayBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9O1xyXG5cclxuICAgIGNoZWNrQXV0aCgpO1xyXG4gIH0sIFtdKTtcclxuICBjb25zdCBsb2dpbldpdGhHb29nbGUgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAvLyBPcGVuIEdvb2dsZSBPQXV0aCBwb3B1cFxyXG4gICAgY29uc3Qgd2lkdGggPSA1MDA7XHJcbiAgICBjb25zdCBoZWlnaHQgPSA2MDA7XHJcbiAgICBjb25zdCBsZWZ0ID0gd2luZG93LnNjcmVlblggKyAod2luZG93Lm91dGVyV2lkdGggLSB3aWR0aCkgLyAyO1xyXG4gICAgY29uc3QgdG9wID0gd2luZG93LnNjcmVlblkgKyAod2luZG93Lm91dGVySGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XHJcbiAgICBcclxuICAgIC8vIENvbnN0cnVjdCBHb29nbGUgT0F1dGggVVJMXHJcbiAgICBjb25zdCBnb29nbGVPQXV0aFVybCA9IGBodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvdjIvYXV0aD9gICtcclxuICAgICAgYGNsaWVudF9pZD02MDQ1NTg5ODY0NzUtNzU1ZmJ2NWJ2bG5hbW5oZG0zZnRzOWNrNTR1amJrdjQuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21gICtcclxuICAgICAgYCZyZWRpcmVjdF91cmk9JHtlbmNvZGVVUklDb21wb25lbnQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9BdXRoZW50aWNhdGlvbi9nb29nbGUtY2FsbGJhY2snKX1gICtcclxuICAgICAgYCZyZXNwb25zZV90eXBlPWlkX3Rva2VuYCArXHJcbiAgICAgIGAmc2NvcGU9JHtlbmNvZGVVUklDb21wb25lbnQoJ29wZW5pZCBlbWFpbCBwcm9maWxlJyl9YCArXHJcbiAgICAgIGAmbm9uY2U9JHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWAgK1xyXG4gICAgICBgJnByb21wdD1zZWxlY3RfYWNjb3VudGA7ICAgIC8vIE9wZW4gdGhlIEdvb2dsZSBPQXV0aCBwb3B1cFxyXG4gICAgY29uc3QgcG9wdXAgPSB3aW5kb3cub3BlbihcclxuICAgICAgZ29vZ2xlT0F1dGhVcmwsXHJcbiAgICAgICdHb29nbGUgTG9naW4nLFxyXG4gICAgICBgd2lkdGg9JHt3aWR0aH0saGVpZ2h0PSR7aGVpZ2h0fSxsZWZ0PSR7bGVmdH0sdG9wPSR7dG9wfSx0b29sYmFyPW5vLG1lbnViYXI9bm8sbG9jYXRpb249bm8sc3RhdHVzPW5vYFxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGEgbWVzc2FnZSBsaXN0ZW5lciB0byBoYW5kbGUgdGhlIGNhbGxiYWNrXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGFzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAvLyBPbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIG91ciBvd24gZG9tYWluXHJcbiAgICAgIGlmIChldmVudC5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdHT09HTEVfQVVUSF9TVUNDRVNTJykge1xyXG4gICAgICAgIGlmIChwb3B1cCkgcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBoYW5kbGVHb29nbGVDYWxsYmFjayhldmVudC5kYXRhLnRva2VuLCBldmVudC5kYXRhLnVzZXIpO1xyXG4gICAgICAgICAgcm91dGVyLnB1c2goJy9wcm9maWxlJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBhdXRoIGNhbGxiYWNrIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB9ICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlR29vZ2xlQ2FsbGJhY2sgPSBhc3luYyAodG9rZW46IHN0cmluZywgdXNlckRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHsgICAgICAvLyBFeGNoYW5nZSB0aGUgR29vZ2xlIGF1dGggdG9rZW4gZm9yIG91ciBhcHAgSldUXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdXNlci9hdXRoL2dvb2dsZS90b2tlbi8nLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgICAgIGlkX3Rva2VuOiB0b2tlbiwgXHJcbiAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgICBmdWxsX25hbWU6IHVzZXJEYXRhLm5hbWVcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0dvb2dsZSBhdXRoZW50aWNhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXCJHb29nbGUgYXV0aCByZXNwb25zZTpcIiwgZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTdG9yZSB0b2tlbnMgYmFzZWQgb24gd2hhdCdzIHJldHVybmVkXHJcbiAgICAgIGlmIChkYXRhLmFjY2Vzcykge1xyXG4gICAgICAgIC8vIEpXVCBmb3JtYXRcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgZGF0YS5hY2Nlc3MpO1xyXG4gICAgICAgIGlmIChkYXRhLnJlZnJlc2gpIHtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBkYXRhLnJlZnJlc2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChkYXRhLnRva2VuKSB7XHJcbiAgICAgICAgLy8gTGVnYWN5IHRva2VuIGZvcm1hdFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0VXNlcih7XHJcbiAgICAgICAgaWQ6IGRhdGEudXNlci5pZCxcclxuICAgICAgICBuYW1lOiBkYXRhLnVzZXIuZnVsbF9uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBkYXRhLnVzZXIuZW1haWwsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgICAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgYXV0aCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGxvZ2luID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdG9rZW5zIGZpcnN0XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlZnJlc2hUb2tlbicpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91c2VyL2F1dGgvbG9naW4vJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCBwYXNzd29yZCB9KSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdMb2dpbiBmYWlsZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTG9naW4gcmVzcG9uc2U6XCIsIGRhdGEpO1xyXG4gICAgICBcclxuICAgICAgLy8gU3RvcmUgdG9rZW5zIC0gd2UncmUgdXNpbmcgSldUIHdoaWNoIHJldHVybnMgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vuc1xyXG4gICAgICBpZiAoZGF0YS5hY2Nlc3MpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aFRva2VuJywgZGF0YS5hY2Nlc3MpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEudG9rZW4pIHtcclxuICAgICAgICAvLyBGYWxsYmFjayBmb3Igbm9uLUpXVCBhdXRoZW50aWNhdGlvblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGRhdGEucmVmcmVzaCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBkYXRhLnJlZnJlc2gpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgdXNlciBzdGF0ZVxyXG4gICAgICBzZXRVc2VyKHtcclxuICAgICAgICBpZDogZGF0YS51c2VyPy5pZCxcclxuICAgICAgICBuYW1lOiBkYXRhLnVzZXI/LmZ1bGxfbmFtZSB8fCBkYXRhLnVzZXI/Lm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGRhdGEudXNlcj8uZW1haWwgfHwgZW1haWwsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpOyAvLyBNYWtlIHN1cmUgbG9hZGluZyBpcyBhbHdheXMgc2V0IHRvIGZhbHNlXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAobmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU3BsaXQgZnVsbCBuYW1lIGludG8gZmlyc3QgYW5kIGxhc3QgbmFtZVxyXG4gICAgICBjb25zdCBbZmlyc3ROYW1lLCAuLi5sYXN0TmFtZVBhcnRzXSA9IG5hbWUudHJpbSgpLnNwbGl0KCcgJyk7XHJcbiAgICAgIGNvbnN0IGxhc3ROYW1lID0gbGFzdE5hbWVQYXJ0cy5qb2luKCcgJyk7ICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91c2VyL2F1dGgvcmVnaXN0ZXIvJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgcGFzc3dvcmQsXHJcbiAgICAgICAgICBwYXNzd29yZDI6IHBhc3N3b3JkLCAvLyBQYXNzd29yZCBjb25maXJtYXRpb24gcmVxdWlyZWQgYnkgYmFja2VuZFxyXG4gICAgICAgICAgZnVsbF9uYW1lOiBuYW1lLFxyXG4gICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgbGFzdF9uYW1lOiBsYXN0TmFtZSB8fCAnJyAvLyBJZiBubyBsYXN0IG5hbWUgcHJvdmlkZWQsIHVzZSBlbXB0eSBzdHJpbmdcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7ICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZGV0YWlsIHx8IFxyXG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhlcnJvckRhdGEpLm1hcChlcnIgPT4gXHJcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZXJyKSA/IGVyci5qb2luKCcsICcpIDogZXJyXHJcbiAgICAgICAgICApLmpvaW4oJywgJyk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSB8fCAnUmVnaXN0cmF0aW9uIGZhaWxlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gU29tZSBBUElzIG1pZ2h0IHJldHVybiBhIHRva2VuIGltbWVkaWF0ZWx5IGFmdGVyIHJlZ2lzdHJhdGlvblxyXG4gICAgICBpZiAoZGF0YS50b2tlbikge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgICBzZXRVc2VyKHtcclxuICAgICAgICAgIGlkOiBkYXRhLnVzZXI/LmlkLFxyXG4gICAgICAgICAgbmFtZTogZGF0YS51c2VyPy5uYW1lIHx8IG5hbWUsXHJcbiAgICAgICAgICBlbWFpbDogZGF0YS51c2VyPy5lbWFpbCB8fCBlbWFpbCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZ2lzdHJhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaFRva2VuJyk7XHJcbiAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcclxuICAgIHJvdXRlci5wdXNoKCcvQXV0aGVudGljYXRpb24vbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB2YWx1ZSA9IHtcclxuICAgIHVzZXIsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgbG9naW4sXHJcbiAgICByZWdpc3RlcixcclxuICAgIGxvZ291dCxcclxuICAgIGxvZ2luV2l0aEdvb2dsZSxcclxuICAgIGhhbmRsZUdvb2dsZUNhbGxiYWNrLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcclxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcclxuICB9XHJcbiAgcmV0dXJuIGNvbnRleHQ7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImlzQXV0aGVudGljYXRlZCIsInNldElzQXV0aGVudGljYXRlZCIsInJvdXRlciIsImNoZWNrQXV0aCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInZlcmlmeVJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoUmVzcG9uc2UiLCJyZWZyZXNoIiwicmVmcmVzaERhdGEiLCJqc29uIiwic2V0SXRlbSIsImFjY2VzcyIsImZldGNoVXNlckRhdGEiLCJyZWZyZXNoRXJyb3IiLCJlcnJvciIsInJlbW92ZUl0ZW0iLCJyZXNwb25zZSIsImNyZWRlbnRpYWxzIiwidXNlckRhdGEiLCJpZCIsIm5hbWUiLCJmdWxsX25hbWUiLCJlbWFpbCIsImxvZ2luV2l0aEdvb2dsZSIsIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsIndpbmRvdyIsInNjcmVlblgiLCJvdXRlcldpZHRoIiwidG9wIiwic2NyZWVuWSIsIm91dGVySGVpZ2h0IiwiZ29vZ2xlT0F1dGhVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJwb3B1cCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImRhdGEiLCJ0eXBlIiwiY2xvc2UiLCJoYW5kbGVHb29nbGVDYWxsYmFjayIsInB1c2giLCJpZF90b2tlbiIsImVycm9yRGF0YSIsIkVycm9yIiwibG9naW4iLCJwYXNzd29yZCIsImRldGFpbCIsInJlZ2lzdGVyIiwiZmlyc3ROYW1lIiwibGFzdE5hbWVQYXJ0cyIsInRyaW0iLCJzcGxpdCIsImxhc3ROYW1lIiwiam9pbiIsInBhc3N3b3JkMiIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJlcnJvck1lc3NhZ2UiLCJPYmplY3QiLCJ2YWx1ZXMiLCJtYXAiLCJlcnIiLCJBcnJheSIsImlzQXJyYXkiLCJsb2dvdXQiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlQXV0aCIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx\n"));

/***/ })

});